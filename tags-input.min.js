/**
 * themeans-core - 
 * @version v0.2.0 - 2015-05-13
 * @link 
 * @license 
 */
"use strict";angular.module("tm.tags-input",[]).directive("tmTagsInput",["$compile",function(a){var b={md:'<div><md-button type="button" ng-click="tagOnClick($index)" ng-repeat="tag in tags track by $index" style="display:inline-block;margin-right:4px;margin-bottom:4px" class="md-primary md-raised">{{tag}}<md-icon style="height:14px;width:14px;margin-left:6px;margin-top:-4px" md-svg-icon="cancel"></md-icon></md-button><div layout="row"><md-input-container flex ng-if="!suggestive()"><label for="label">{{inputLabel}}</label><input type="text" ng-keydown="inputOnKeyDown($event)" id="label" ng-model="tag.searchText"></md-input-container><md-autocomplete ng-if="suggestive()" flex style="min-width: 0px;" ng-keydown="inputOnKeyDown($event)" md-no-cache="true" md-selected-item="tag.selectedText" md-search-text="tag.searchText" md-items="item in getMatches(tag.searchText)" md-item-text="item.display" md-floating-label="{{inputLabel}}"><span md-highlight-text="tag.searchText">{{item.display}}</span></md-autocomplete><md-button class="add-tab md-primary" flex="20" style="min-width: 0px;" ng-click="addOnClick()" type="button">Add</md-button></div></div>',ionic:'<label class="item item-input item-stacked-label item-text-wrap"><span class="input-label">My current skills: </span><div><button class="button button-positive" type="button" ng-repeat="tag in tags track by $index" ng-click="tagOnClick($index)" style="margin: 0 4px 4px 0; ">{{tag}}&nbsp;&nbsp;<i class="icon ion-close-circled"></i></button></div></label><label class="item item-input item-stacked-label"><span class="input-label">Add a Skill: </span><input type="text" class="item-wrap" placeholder="What skills do you have?" ng-keydown="inputOnKeyDown($event)" ng-model="tag.searchText"></label>'};return{restrict:"E",scope:{tags:"=ngModel",environment:"@",suggestive:"&",suggestions:"=?",inputLabel:"@"},link:function(c,d){return"ionic"===c.environment?void d.append(a(b.ionic)(c)):void d.append(a(b.md)(c))},controller:["$scope",function(a){function b(a){var b=angular.lowercase(a);return function(a){return 0===a.value.indexOf(b)}}a.inputLabel=a.inputLabel?a.inputLabel:"Add a Tag";var c={searchText:"",selectedText:{display:"",value:""}};a.tag=angular.copy(c),a.getMatches=function(c){return a.suggestions=a.suggestions?a.suggestions:[],c?a.suggestions.filter(b(c)):[]},a.addOnClick=function(){if(a.tags&&Array.isArray(a.tags)||(a.tags=[]),!a.suggestive()||a.tag.selectedText){var b=a.tag.selectedText.value||a.tag.searchText||"";a.suggestive()||(b=b.replace(/[^\w\s-]/gi,"")),b=b.toLowerCase(),a.tags.indexOf(b)<0&&b.length>0&&a.tags.push(b),a.tag=angular.copy(c)}},a.tagOnClick=function(b){a.$applyAsync(function(){a.tags.splice(b,1)})},a.inputOnKeyDown=function(b){b.stopPropagation(),13===b.which&&(a.addOnClick(),b.preventDefault()),8===b.which&&a.tags&&!a.tag.searchText.length&&a.tagOnClick(a.tags.length-1)}}]}}]),angular.module("tm.tags-input",[]).directive("tmTagsInput",["$compile",function(a){var b={md:'<div><md-button type="button" ng-click="tagOnClick($index)" ng-repeat="tag in tags track by $index" style="display:inline-block;margin-right:4px;margin-bottom:4px" class="md-primary md-raised">{{tag}}<md-icon style="height:14px;width:14px;margin-left:6px;margin-top:-4px" md-svg-icon="cancel"></md-icon></md-button><div layout="row"><md-input-container flex ng-if="!suggestive()"><label for="label">{{inputLabel}}</label><input type="text" ng-keydown="inputOnKeyDown($event)" id="label" ng-model="tag.searchText"></md-input-container><md-autocomplete ng-if="suggestive()" flex style="min-width: 0px;" ng-keydown="inputOnKeyDown($event)" md-no-cache="true" md-selected-item="tag.selectedText" md-search-text="tag.searchText" md-items="item in getMatches(tag.searchText)" md-item-text="item.display" md-floating-label="{{inputLabel}}"><span md-highlight-text="tag.searchText">{{item.display}}</span></md-autocomplete><md-button class="add-tab md-primary" flex="20" style="min-width: 0px;" ng-click="addOnClick()" type="button">Add</md-button></div></div>',ionic:'<label class="item item-input item-stacked-label item-text-wrap"><span class="input-label">My current skills: </span><div><button class="button button-positive" type="button" ng-repeat="tag in tags track by $index" ng-click="tagOnClick($index)" style="margin: 0 4px 4px 0; ">{{tag}}&nbsp;&nbsp;<i class="icon ion-close-circled"></i></button></div></label><label class="item item-input item-stacked-label"><span class="input-label">Add a Skill: </span><input type="text" class="item-wrap" placeholder="What skills do you have?" ng-keydown="inputOnKeyDown($event)" ng-model="tag.searchText"></label>'};return{restrict:"E",scope:{tags:"=ngModel",environment:"@",suggestive:"&",suggestions:"=?",inputLabel:"@"},link:function(c,d){return"ionic"===c.environment?void d.append(a(b.ionic)(c)):void d.append(a(b.md)(c))},controller:["$scope",function(a){function b(a){var b=angular.lowercase(a);return function(a){return 0===a.value.indexOf(b)}}a.inputLabel=a.inputLabel?a.inputLabel:"Add a Tag";var c={searchText:"",selectedText:{display:"",value:""}};a.tag=angular.copy(c),a.getMatches=function(c){return a.suggestions=a.suggestions?a.suggestions:[],c?a.suggestions.filter(b(c)):[]},a.addOnClick=function(){if(a.tags&&Array.isArray(a.tags)||(a.tags=[]),!a.suggestive()||a.tag.selectedText){var b=a.tag.selectedText.value||a.tag.searchText||"";b=b.replace(/[^\w\s-]/gi,""),b=b.toLowerCase(),a.tags.indexOf(b)<0&&b.length>0&&a.tags.push(b),a.tag=angular.copy(c)}},a.tagOnClick=function(b){a.$applyAsync(function(){a.tags.splice(b,1)})},a.inputOnKeyDown=function(b){b.stopPropagation(),13===b.which&&(a.addOnClick(),b.preventDefault()),8===b.which&&a.tags&&!a.tag.searchText.length&&a.tagOnClick(a.tags.length-1)}}]}}]),angular.module("tm.tags-input",[]).directive("tmTagsInput",["$compile",function(a){var b={md:'<div><md-button type="button" ng-click="tagOnClick($index)" ng-repeat="tag in tags track by $index" style="display:inline-block;margin-right:4px;margin-bottom:4px" class="md-primary md-raised">{{tag}}<md-icon style="height:14px;width:14px;margin-left:6px;margin-top:-4px" md-svg-icon="cancel"></md-icon></md-button><div layout="row"><md-input-container flex ng-if="!suggestive()"><label for="label">{{inputLabel}}</label><input type="text" ng-keydown="inputOnKeyDown($event)" id="label" ng-model="tag.searchText"></md-input-container><md-autocomplete ng-if="suggestive()" flex style="min-width: 0px;" ng-keydown="inputOnKeyDown($event)" md-no-cache="true" md-selected-item="tag.selectedText" md-search-text="tag.searchText" md-items="item in getMatches(tag.searchText)" md-item-text="item.display" md-floating-label="{{inputLabel}}"><span md-highlight-text="tag.searchText">{{item.display}}</span></md-autocomplete><md-button class="add-tab md-primary" flex="20" style="min-width: 0px;" ng-click="addOnClick()" type="button">Add</md-button></div></div>',ionic:'<label class="item item-input item-stacked-label item-text-wrap"><span class="input-label">My current skills: </span><div><button class="button button-positive" type="button" ng-repeat="tag in tags track by $index" ng-click="tagOnClick($index)" style="margin: 0 4px 4px 0; ">{{tag}}&nbsp;&nbsp;<i class="icon ion-close-circled"></i></button></div></label><label class="item item-input item-stacked-label"><span class="input-label">Add a Skill: </span><input type="text" class="item-wrap" placeholder="What skills do you have?" ng-keydown="inputOnKeyDown($event)" ng-model="tag.searchText"></label>'};return{restrict:"E",scope:{tags:"=ngModel",environment:"@",suggestive:"&",suggestions:"=?",inputLabel:"@"},link:function(c,d){return"ionic"===c.environment?void d.append(a(b.ionic)(c)):void d.append(a(b.md)(c))},controller:["$scope",function(a){function b(a){var b=angular.lowercase(a);return function(a){return 0===a.value.indexOf(b)}}a.inputLabel=a.inputLabel?a.inputLabel:"Add a Tag";var c={searchText:"",selectedText:{display:"",value:""}};a.tag=angular.copy(c),a.getMatches=function(c){return a.suggestions=a.suggestions?a.suggestions:[],c?a.suggestions.filter(b(c)):[]},a.addOnClick=function(){if(a.tags&&Array.isArray(a.tags)||(a.tags=[]),!a.suggestive()||a.tag.selectedText){var b=a.tag.selectedText.value||a.tag.searchText||"";b=b.replace(/[^\w\s-]/gi,""),b=b.toLowerCase(),a.tags.indexOf(b)<0&&b.length>0&&a.tags.push(b),a.tag=angular.copy(c)}},a.tagOnClick=function(b){a.$applyAsync(function(){a.tags.splice(b,1)})},a.inputOnKeyDown=function(b){b.stopPropagation(),13===b.which&&(a.addOnClick(),b.preventDefault()),8===b.which&&a.tags&&!a.tag.searchText.length&&a.tagOnClick(a.tags.length-1)}}]}}]);