/**
 * utils-demo - 
 * @version v0.0.2 - 2015-03-11
 * @link 
 * @license 
 */
"use strict";angular.module("tm.parseAccounts",["tm.parse","tm.localstorage"]).factory("Settings",["Parse",function(a){return a.Object.extend("Settings")}]).service("tmAccounts",["$q","$timeout","Settings","Parse","tmLocalStorage",function(a,b,c,d,e){function f(f,g){var h,i=a.defer(),j=new d.Query(c),k="settings:display:"+f;return g&&(k="settings:edit:"+f),b(function(){var a=e.getObject(k);i.notify(a)},0),j.get(f,{success:function(a){var b=a.getNgModel();g&&(b=a.getNgFormModel()),e.setObject(k,b),h=e.getObject(k),i.resolve(h)},error:function(a,b){console.error("Parse Error: ",b.code,b.message),i.reject(b)}}),i.promise}this.getUserRoles=function(b){var c=a.defer(),f=new d.Query(d.Role);return f.equalTo("users",b),f.find({success:function(a){for(var d=[],f=0;f<a.length;f++)d.push(a[f].get("name"));e.setObject("user:roles:"+b.id,d),d=e.getObject("user:roles:"+b.id,[]),c.resolve(d)},error:function(a,b){console.error("Parse Error: ",b.code,b.message),c.reject(b)}}),c.promise},this.getUserById=function(b){var c=a.defer(),e=new d.Query(d.User);return e.get(b,{success:function(a){c.resolve(a)},error:function(a,b){console.error("Parse Error: ",b.code,b.message),c.reject(b)}}),c.promise},this.getSettingsByIdForEditing=function(a){return f(a,!0)},this.getSettingsByIdForDisplay=function(a){return f(a,!1)},this.updateSettings=function(b){var d=a.defer(),f=new c(b,{ngModel:!0,resetOpsQueue:!1});return f.save(null,{success:function(a){e.setObject(a.id,a),a=e.getObject(a.id),d.resolve(a)},error:function(a,b){console.error("Parse Error: ",b.code,b.message),d.reject(b)}}),d.promise}}]),angular.module("tm.parseAccounts",["tm.parse","tm.localstorage"]).factory("Settings",["Parse",function(a){return a.Object.extend("Settings")}]).service("tmAccounts",["$q","$timeout","Settings","Parse","tmLocalStorage",function(a,b,c,d,e){function f(f,g){var h,i=a.defer(),j=new d.Query(c),k="settings:display:"+f;return g&&(k="settings:edit:"+f),b(function(){var a=e.getObject(k);i.notify(a)},0),j.get(f,{success:function(a){var b=a.getNgModel();g&&(b=a.getNgFormModel()),e.setObject(k,b),h=e.getObject(k),i.resolve(h)},error:function(a,b){i.reject(b)}}),i.promise}this.getUserRoles=function(b){var c=a.defer(),f=new d.Query(d.Role);return f.equalTo("users",b),f.find({success:function(a){for(var d=[],f=0;f<a.length;f++)d.push(a[f].get("name"));e.setObject(b.id+"-roles",d),d=e.getObject(b.id+"-roles"),c.resolve(d)},error:function(a,b){c.reject(b)}}),c.promise},this.getUserById=function(b){var c=a.defer(),e=new d.Query(d.User);return e.get(b,{success:function(a){c.resolve(a)},error:function(a,b){c.reject(b)}}),c.promise},this.getSettingsByIdForEditing=function(a){return f(a,!0)},this.getSettingsByIdForDisplay=function(a){return f(a,!1)},this.updateSettings=function(b){var d=a.defer(),f=new c(b,{ngModel:!0,resetOpsQueue:!1});return f.save(null,{success:function(a){e.setObject(a.id,a),a=e.getObject(a.id),d.resolve(a)},error:function(a,b){d.reject(b)}}),d.promise}}]),angular.module("tm.parseAccounts",["tm.parse","tm.localstorage"]).factory("Settings",["Parse",function(a){return a.Object.extend("Settings")}]).service("tmAccounts",["$q","$timeout","Settings","Parse","tmLocalStorage",function(a,b,c,d,e){function f(f,g){var h,i=a.defer(),j=(new d.Query(c),"settings:display:"+f);return g&&(j="settings:edit:"+f),b(function(){var a=e.getObject(j);i.notify(a)},0),settingssQuery.get(f,{success:function(a){var b=a.getNgModel();g&&(b=a.getNgFormModel()),e.setObject(j,b),h=e.getObject(j),i.resolve(h)},error:function(a,b){i.reject(b)}}),i.promise}this.getUserRoles=function(b){var c=a.defer(),f=new d.Query(d.Role);return f.equalTo("users",b),f.find({success:function(a){for(var d=[],f=0;f<a.length;f++)d.push(a[f].get("name"));e.setObject(b.id+"-roles",d),d=e.getObject(b.id+"-roles"),c.resolve(d)},error:function(a,b){c.reject(b)}}),c.promise},this.getUserById=function(b){var c=a.defer(),e=new d.Query(d.User);return e.get(b,{success:function(a){c.resolve(a)},error:function(a,b){c.reject(b)}}),c.promise},this.getSettingsByIdForEditing=function(a){return f(a,!0)},this.getSettingsByIdForDisplay=function(a){return f(a,!1)},this.updateSettings=function(){var b=a.defer(),d=new c;return d.save(settingsModel,{success:function(a){e.setObject(a.id,a),a=e.getObject(a.id),b.resolve(a)},error:function(a,c){b.reject(c)}}),b.promise}}]),angular.module("tm.parseAccounts",["tm.parse","tm.localstorage"]).factory("Settings",["Parse",function(a){return a.Object.extend("Settings")}]).service("tmAccounts",["$q","$timeout","Settings","Parse","tmLocalStorage",function(a,b,c,d,e){function f(f,g){var h,i=a.defer(),j=(new d.Query(c),"settings:display:"+f);return g&&(j="settings:edit:"+f),b(function(){var a=e.getObject(j);i.notify(a)},0),settingssQuery.get(f,{success:function(a){var b=a.getNgModel();g&&(b=a.getNgFormModel()),e.setObject(j,b),h=e.getObject(j),i.resolve(h)},error:function(a,b){i.reject(b)}}),i.promise}this.getUserRoles=function(b){var c=a.defer(),f=new d.Query(d.Role);return f.equalTo("users",b),f.find({success:function(a){for(var d=[],f=0;f<a.length;f++)d.push(a[f].get("name"));e.setObject(b.id+"-roles",d),d=e.getObject(b.id+"-roles"),c.resolve(d)},error:function(a,b){c.reject(b)}}),c.promise},this.getUserById=function(b){var c=a.defer(),e=new d.Query(d.User);return e.get(b,{success:function(a){c.resolve(a)},error:function(a,b){c.reject(b)}}),c.promise},this.getSettingsByIdForEditing=function(a){return f(a,!0)},this.getSettingsByIdForDisplay=function(a){return f(a,!1)},this.updateSettings=function(){var b=a.defer(),d=new c;return d.save(settingsModel,{success:function(a){e.setObject(a.id,a),a=e.getObject(a.id),b.resolve(a)},error:function(a,c){b.reject(c)}}),b.promise}}]),angular.module("tm.parseAccounts",["tm.parse","tm.localstorage"]).factory("Settings",["Parse",function(a){return a.Object.extend("Settings")}]).service("tmAccounts",["$q","$timeout","Settings","Parse","tmLocalStorage",function(a,b,c,d,e){function f(f,g){var h,i=a.defer(),j=(new d.Query(c),"settings:display:"+f);return g&&(j="settings:edit:"+f),b(function(){var a=e.getObject(j);i.notify(a)},0),settingssQuery.get(f,{success:function(a){var b=a.getNgModel();g&&(b=a.getNgFormModel()),e.setObject(j,b),h=e.getObject(j),i.resolve(h)},error:function(a,b){i.reject(b)}}),i.promise}this.getUserRoles=function(b){var c=a.defer(),f=new d.Query(d.Role);return f.equalTo("users",b),f.find({success:function(a){for(var d=[],f=0;f<a.length;f++)d.push(a[f].get("name"));e.setObject(b.id+"-roles",d),d=e.getObject(b.id+"-roles"),c.resolve(d)},error:function(a,b){c.reject(b)}}),c.promise},this.getUserById=function(b){var c=a.defer(),e=new d.Query(d.User);return e.get(b,{success:function(a){c.resolve(a)},error:function(a,b){c.reject(b)}}),c.promise},this.getSettingsByIdForEditing=function(a){return f(a,!0)},this.getSettingsByIdForDisplay=function(a){return f(a,!1)},this.updateSettings=function(){var b=a.defer(),d=new c;return d.save(settingsModel,{success:function(a){e.setObject(a.id,a),a=e.getObject(a.id),b.resolve(a)},error:function(a,c){b.reject(c)}}),b.promise}}]),angular.module("tm.parseAccounts",["tm.parse","tm.localstorage"]).factory("Settings",["Parse",function(a){return a.Object.extend("Settings")}]).service("tmAccounts",["$q","$timeout","Settings","Parse","tmLocalStorage",function(a,b,c,d,e){function f(f,g){var h,i=a.defer(),j=(new d.Query(c),"settings:display:"+f);return g&&(j="settings:edit:"+f),b(function(){var a=e.getObject(j);i.notify(a)},0),settingssQuery.get(f,{success:function(a){var b=a.getNgModel();g&&(b=a.getNgFormModel()),e.setObject(j,b),h=e.getObject(j),i.resolve(h)},error:function(a,b){i.reject(b)}}),i.promise}this.getUserRoles=function(b){var c=a.defer(),f=new d.Query(d.Role);return f.equalTo("users",b),f.find({success:function(a){for(var d=[],f=0;f<a.length;f++)d.push(a[f].get("name"));e.setObject(b.id+"-roles",d),d=e.getObject(b.id+"-roles"),c.resolve(d)},error:function(a,b){c.reject(b)}}),c.promise},this.getUserById=function(b){var c=a.defer(),e=new d.Query(d.User);return e.get(b,{success:function(a){c.resolve(a)},error:function(a,b){c.reject(b)}}),c.promise},this.getSettingsByIdForEditing=function(a){return f(a,!0)},this.getSettingsByIdForDisplay=function(a){return f(a,!1)},this.updateSettings=function(){var b=a.defer(),d=new c;return d.save(settingsModel,{success:function(a){e.setObject(a.id,a),a=e.getObject(a.id),b.resolve(a)},error:function(a,c){b.reject(c)}}),b.promise}}]);